extends ../../layouts/admin

block content

  section.section-padding
      hr.bottom-line

      if errors
        ul
         for error in errors
           li!= error.msg

      .card
        .card-block
          .card-header
            i.fa.fa-table 
            |  #{title}
            a(href='/admin/posts' class='m-auto float-right btn btn-info') Go back
          .card-body
            .table-responsive
              table#dataTable.table.table-bordered(width='100%', cellspacing='0')

                form(method='POST' action='')
                  tbody
                    tr.form-group
                      td
                        label(for='title') Title:
                      td 
                        input#title.form-control(type='text', placeholder='Enter title for post.' name='title' required='true' value=(undefined===post ? '' : post.title))
                    tr.form-group
                      td
                        label(for='category') Category:
                      td
                        select#category.form-control(type='select', placeholder='Select category' name='category' required='true' )
                          for category in categories
                            if post
                              option(value=category._id selected=(category._id.toString()==post.category._id.toString() ? 'selected' : false) ) #{category.name}
                            else
                              option(value=category._id) #{category.name}
                    tr.form-group
                      td
                        label(for='content') Content:
                      td 
                        textarea#content.form-control(type='textarea', rows="5" cols="80" placeholder='Content' name='content' required='true')= (undefined===post ? '' : post.content)
                    tr.form-group
                      td
                        label(for=status) Status:
                      td 
                        - lists = ['draft', 'published', 'private']
                        
                        select(name='status', id="status", class='custom-select')
                          for list in lists
                            option(value=list, selected =(undefined===post ? '' : (post.status===list)?  'selected':false))=list
                    tr.form-group
                      td
                         button.btn.btn-primary(type='submit') Submit
